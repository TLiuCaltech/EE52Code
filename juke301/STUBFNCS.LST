iC-86  COMPILER   STUBFNCS                                                                   04/26/;6 22:42:34  PAGE   1


DOS 5.0 (038-N) iC-86 COMPILER V4.0, COMPILATION OF MODULE STUBFNCS
OBJECT MODULE PLACED IN STUBFNCS.OBJ
COMPILER INVOKED BY: C:\5XTOOLS\IC86.EXE STUBFNCS.C DEBUG MOD186 EXTEND CODE SMALL ROM NOALIGN

 line level  incl 

    1             /****************************************************************************/
    2             /*                                                                          */
    3             /*                                STUBFNCS                                  */
    4             /*                          Audio Stub Functions                            */
    5             /*                           MP3 Jukebox Project                            */
    6             /*                                EE/CS 52                                  */
    7             /*                                                                          */
    8             /****************************************************************************/
    9             
   10             /*
   11                This file contains stub functions for the hardware interfacing code.  The
   12                file is meant to allow linking of the main code without necessarily having
   13                all the low-level functions.  The functions included are:
   14                   update         - check if ready for an update
   15                   elapsed_time   - get the time since the last call to this function
   16                   key_available  - check if a key is available
   17                   getkey         - get a key
   18                   display_time   - display the passed time
   19                   display_track  - display the passed track number
   20                   display_status - display the passed status
   21                   display_title  - display the passed track title
   22                   display_artist - display the passed track artist
   23                   get_blocks     - get data from the hard drive
   24                   audio_play     - start audio output
   25                   audio_halt     - halt audio input or output
   26             
   27                The local functions included are:
   28                   none
   29             
   30                The locally global variable definitions included are:
   31                   none
   32             
   33             
   34                Revision History
   35                   6/6/00   Glen George       Initial revision (from the 3/6/99 version of
   36                                              stubfncs.c for the Digital Audio Recorder
   37                                              Project).
   38                   6/2/02   Glen George       Removed ffrev_start() and ffrev_halt(), they
   39                                              are no longer part of the user-written code.
   40                   6/5/03   Glen George       Removed display_track(), is is no longer part
   41                                              of the user-written code.
   42                   4/29/06  Glen George       Updated definitions of get_blocks(),
   43                                              update(), and audio_play() to use words
   44                              instead of bytes.
   45             */
   46             
   47             
   48             
   49             /* library include files */
   50               /* none */
   51             
iC-86  COMPILER   STUBFNCS                                                                   04/26/;6 22:42:34  PAGE   2


   52             /* local include files */
   53             #include  "mp3defs.h"
   54             
   55             
   56             
   57             
   58             /* update function */
   59             
   60             unsigned char  update(unsigned short int far *p, int n)
   61             {
   62     1           return  FALSE;
   63     1       }
   64             
   65             
   66             
   67             /* timing function */
   68             
   69             int  elapsed_time()
   70             {
   71     1           return  0;
   72     1       }
   73             
   74             
   75             
   76             /* keypad functions */
   77             
   78             #if 0
                  #endif
   91             
   92             
   93             
   94             /* display functions  */
   95             
   96             void  display_time(unsigned int t)
   97             {
   98     1           return;
   99     1       }
  100             
  101             void  display_status(unsigned int s)
  102             {
  103     1           return;
  104     1       }
  105             
  106             void  display_title(const char far *t)
  107             {
  108     1           return;
  109     1       }
  110             
  111             void  display_artist(const char far *a)
  112             {
  113     1           return;
  114     1       }
  115             
  116             
  117             /* IDE interface function */
  118             
  119             int  get_blocks(unsigned long int b, int n, unsigned short int far *p)
iC-86  COMPILER   STUBFNCS                                                                   04/26/;6 22:42:34  PAGE   3


  120             {
  121     1           return  n;
  122     1       }
  123             
  124             
  125             
  126             /* audio functions */
  127             
  128             void  audio_play(unsigned short int far *p, int n)
  129             {
  130     1           return;
  131     1       }
  132             
  133             void  audio_halt()
  134             {
  135     1           return;
  136     1       }
  137             
iC-86  COMPILER   STUBFNCS                                                                   04/26/;6 22:42:34  PAGE   4
                  ASSEMBLY LISTING OF OBJECT CODE


                                                   ; STATEMENT # 61
                           update      PROC NEAR
             0000  56              PUSH    SI
             0001  57              PUSH    DI
             0002  55              PUSH    BP
             0003  8BEC            MOV     BP,SP
                           @1:
                                                   ; STATEMENT # 62
             0005  31C0            XOR     AX,AX
             0007  5D              POP     BP
             0008  5F              POP     DI
             0009  5E              POP     SI
             000A  C3              RET
                                                   ; STATEMENT # 63
                           update      ENDP
                                                   ; STATEMENT # 70
                           elapsed_time      PROC NEAR
             000C  56              PUSH    SI
             000D  57              PUSH    DI
             000E  55              PUSH    BP
             000F  8BEC            MOV     BP,SP
                           @2:
                                                   ; STATEMENT # 71
             0011  31C0            XOR     AX,AX
             0013  5D              POP     BP
             0014  5F              POP     DI
             0015  5E              POP     SI
             0016  C3              RET
                                                   ; STATEMENT # 72
                           elapsed_time      ENDP
                                                   ; STATEMENT # 97
                           display_time      PROC NEAR
             0018  56              PUSH    SI
             0019  57              PUSH    DI
             001A  55              PUSH    BP
             001B  8BEC            MOV     BP,SP
                           @3:
                                                   ; STATEMENT # 98
             001D  5D              POP     BP
             001E  5F              POP     DI
             001F  5E              POP     SI
             0020  C3              RET
                                                   ; STATEMENT # 99
                           display_time      ENDP
                                                   ; STATEMENT # 102
                           display_status      PROC NEAR
             0022  56              PUSH    SI
             0023  57              PUSH    DI
             0024  55              PUSH    BP
             0025  8BEC            MOV     BP,SP
                           @4:
                                                   ; STATEMENT # 103
             0027  5D              POP     BP
             0028  5F              POP     DI
             0029  5E              POP     SI
             002A  C3              RET
iC-86  COMPILER   STUBFNCS                                                                   04/26/;6 22:42:34  PAGE   5
                  ASSEMBLY LISTING OF OBJECT CODE


                                                   ; STATEMENT # 104
                           display_status      ENDP
                                                   ; STATEMENT # 107
                           display_title      PROC NEAR
             002C  56              PUSH    SI
             002D  57              PUSH    DI
             002E  55              PUSH    BP
             002F  8BEC            MOV     BP,SP
                           @5:
                                                   ; STATEMENT # 108
             0031  5D              POP     BP
             0032  5F              POP     DI
             0033  5E              POP     SI
             0034  C3              RET
                                                   ; STATEMENT # 109
                           display_title      ENDP
                                                   ; STATEMENT # 112
                           display_artist      PROC NEAR
             0036  56              PUSH    SI
             0037  57              PUSH    DI
             0038  55              PUSH    BP
             0039  8BEC            MOV     BP,SP
                           @6:
                                                   ; STATEMENT # 113
             003B  5D              POP     BP
             003C  5F              POP     DI
             003D  5E              POP     SI
             003E  C3              RET
                                                   ; STATEMENT # 114
                           display_artist      ENDP
                                                   ; STATEMENT # 120
                           get_blocks      PROC NEAR
             0040  56              PUSH    SI
             0041  57              PUSH    DI
             0042  55              PUSH    BP
             0043  8BEC            MOV     BP,SP
                           @7:
                                                   ; STATEMENT # 121
             0045  8B460C          MOV     AX,[BP].n
             0048  5D              POP     BP
             0049  5F              POP     DI
             004A  5E              POP     SI
             004B  C3              RET
                                                   ; STATEMENT # 122
                           get_blocks      ENDP
                                                   ; STATEMENT # 129
                           audio_play      PROC NEAR
             004C  56              PUSH    SI
             004D  57              PUSH    DI
             004E  55              PUSH    BP
             004F  8BEC            MOV     BP,SP
                           @8:
                                                   ; STATEMENT # 130
             0051  5D              POP     BP
             0052  5F              POP     DI
             0053  5E              POP     SI
iC-86  COMPILER   STUBFNCS                                                                   04/26/;6 22:42:34  PAGE   6
                  ASSEMBLY LISTING OF OBJECT CODE


             0054  C3              RET
                                                   ; STATEMENT # 131
                           audio_play      ENDP
                                                   ; STATEMENT # 134
                           audio_halt      PROC NEAR
             0056  56              PUSH    SI
             0057  57              PUSH    DI
             0058  55              PUSH    BP
             0059  8BEC            MOV     BP,SP
                           @9:
                                                   ; STATEMENT # 135
             005B  5D              POP     BP
             005C  5F              POP     DI
             005D  5E              POP     SI
             005E  C3              RET
                                                   ; STATEMENT # 136
                           audio_halt      ENDP



MODULE INFORMATION:

     CODE AREA SIZE               = 005FH     95D
     CONSTANT AREA SIZE           = 0000H      0D
     DATA AREA SIZE               = 0000H      0D
     MAXIMUM STACK SIZE           = 000CH     12D

iC-86 COMPILATION COMPLETE.      0 WARNINGS,     0 ERRORS
